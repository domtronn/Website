function Point(a,b){this.x=a,this.y=b}function Vector(a){this.vertices=a,this.length=this.calculateLength(a),this.midpoint=this.calculateMidpoint(a)}function Triangle(a,b){this["new"]=!0,this.vertices=a,this.edges=[new Vector([this.vertices[0],this.vertices[1]]),new Vector([this.vertices[0],this.vertices[2]]),new Vector([this.vertices[1],this.vertices[2]])],this.circumRadius=this.calculateCircumRadius(),this.circumCenter=this.calculateCircumCenter(),this.col=this.randomColour(this.COLOURS)}function Triangulation(a,b){this.superTriangle=a,this.triangles=[a],this.ctx=b}function BowyerWatson(a,b){b.getSuperTriangle();a.forEach(function(a){BowyerWatsonInsert(a,b)})}function BowyerWatsonInsert(a,b){var c=[];b.triangles.forEach(function(b){b.contains(a).inCircumcircle()&&c.push(b)});var d=[];c.forEach(function(a){a.edges.forEach(function(b){c.every(function(c){return c==a||!c.contains(b).inEdges()})&&d.push(b)})}),c.forEach(function(a){b.remove(a)}),d.forEach(function(c){b.add(new Triangle(c.vertices.concat(a)))})}function generateBoundingTriangle(a,b,c){return c=c||.2*b,new Triangle([new Point(-(a/2),-c),new Point(1.5*a,-c),new Point(a/2,2*b+c)])}function generatePoints(a){var b=0,c=75,d=[];for(b;c>b;b++){var e=new Point(Math.random()*(width+400)-200,Math.random()*(height+400)-200);a.getSuperTriangle().contains(e).inTriangle()&&d.push(e)}return d}function renderPolygons(){triangulation.triangles.forEach(function(a,b){svg.innerHTML+=polygonTemplate({triangle:a,j:b,fill:a.col})})}!function(a){var b=function(){var a="#"+$(".section")[1].getAttribute("id");return a},c=function(){var a="#"+$(".section")[$(".section").length-1].getAttribute("id");return a};a.getFirstSection=b,a.getLastSection=c}(window.Utils=window.Utils||{}),Point.prototype.minus=function(a){return new Point(this.x-a.x,this.y-a.y)},Vector.prototype.vertex=function(a){return this.vertices[a]},Vector.prototype.calculateLength=function(a){return Math.sqrt(Math.pow(Math.abs(a[0].x-a[1].x),2)+Math.pow(Math.abs(a[0].y-a[1].y),2))},Vector.prototype.calculateMidpoint=function(a){return new Point((a[0].x+a[1].x)/2,(a[0].y+a[1].y)/2)},Vector.prototype.calculateGradient=function(a){return(a[1].y-a[0].y)/(a[1].x-a[0].x)},Vector.prototype.minus=function(a){return new Vector([new Point(this.vertex(0)-a.vertex(0).x,this.vertex(0).y-a.vertex(0).y),new Point(this.vertex(1)-a.vertex(1).x,this.vertex(1).y-a.vertex(1).y)])},Triangle.prototype.COLOURS=["#ae02ae","#bbae02"],Triangle.prototype.vertex=function(a){return this.vertices[a]},Triangle.prototype.calculateCircumRadius=function(){var a=this.edges[0].length,b=this.edges[1].length,c=this.edges[2].length,d=Math.sqrt((a+b+c)*(b+c-a)*(c+a-b)*(a+b-c))||a/2;return d?a*b*c/d:a/2},Triangle.prototype.calculateCircumCenter=function(){var a=this.vertices[0],b=this.vertices[1],c=this.vertices[2],d=2*(a.x*(b.y-c.y)+b.x*(c.y-a.y)+c.x*(a.y-b.y)),e=((Math.pow(a.x,2)+Math.pow(a.y,2))*(b.y-c.y)+(Math.pow(b.x,2)+Math.pow(b.y,2))*(c.y-a.y)+(Math.pow(c.x,2)+Math.pow(c.y,2))*(a.y-b.y))/d,f=((Math.pow(a.x,2)+Math.pow(a.y,2))*(c.x-b.x)+(Math.pow(b.x,2)+Math.pow(b.y,2))*(a.x-c.x)+(Math.pow(c.x,2)+Math.pow(c.y,2))*(b.x-a.x))/d;return new Point(e,f)},Triangle.prototype.randomColour=function(a){var b=Math.round(Math.random())?a[0]:a[1],c=40*Math.random()-15,d=parseInt(b.slice(1),16),e=Math.round(2.55*c),f=(d>>16)+e,g=(d>>8&255)+e,h=(255&d)+e;return"#"+(16777216+65536*(255>f?1>f?0:f:255)+256*(255>g?1>g?0:g:255)+(255>h?1>h?0:h:255)).toString(16).slice(1)},Triangle.prototype.contains=function(a){return this._contains=a,this},Triangle.prototype.inCircumcircle=function(){return new Vector([this.circumCenter,this._contains]).length<=this.circumRadius?!0:!1},Triangle.prototype.inEdges=function(){var a=this._contains;return this.edges.some(function(b){return a.vertices[0]==b.vertices[0]&&a.vertices[1]==b.vertices[1]})},Triangle.prototype.inTriangle=function(){var a=this._contains,b=this.vertex(1).minus(this.vertex(0)),c=this.vertex(2).minus(this.vertex(0)),d=a.minus(this.vertex(0)),e=b.x*c.y-c.x*b.y,f=[(d.x*(b.y-c.y)+d.y*(c.x-b.x)+b.x*c.y-c.x*b.y)/e,(d.x*c.y-d.y*c.x)/e,(d.y*b.x-d.x*b.y)/e];return f.every(function(a){return a>=0&&1>=a})},Triangulation.prototype.add=function(a){this.triangles.push(a)},Triangulation.prototype.remove=function(a){var b=this.triangles.indexOf(a);this.triangles.splice(b,1)},Triangulation.prototype.getSuperTriangle=function(){return this.superTriangle};var svg,compColours,width,height,triangulation;svg=document.getElementById("svg"),compColours=[["#2e3842","#21b2a6"]],Triangle.prototype.COLOURS=compColours[Math.floor(Math.random()*compColours.length)],Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":return a==c?d.fn(this):d.inverse(this);case"===":return a===c?d.fn(this):d.inverse(this);case"<":return c>a?d.fn(this):d.inverse(this);case"<=":return c>=a?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}});var abilities={skills:[{ability:"JavaScript",score:5},{ability:"Ruby",score:5},{ability:"HTML5",score:5},{ability:"Lisp",score:5},{ability:"CSS3",score:5},{ability:"CoffeeScript",score:5},{ability:"Sass",score:5},{ability:"Bash",score:5},{ability:"RegExp",score:5},{ability:"Grunt",score:5},{ability:"Java",score:4},{ability:"PHP",score:4},{ability:"Rust",score:4},{ability:"JQuery",score:4},{ability:"C++",score:4},{ability:"Perl",score:4},{ability:"Python",score:4},{ability:"LESS",score:3},{ability:"Schema",score:3},{ability:"XML",score:3},{ability:"C#",score:2}],tools:[{ability:"Emacs",score:5},{ability:"Sublime",score:5},{ability:"Git",score:5},{ability:"SVN",score:5},{ability:"LightTable",score:4},{ability:"IntelliJ",score:4},{ability:"Eclipse",score:4},{ability:"Jenkins",score:4},{ability:"Vim",score:3},{ability:"AWS",score:3}],languages:[{ability:"English",extra:" (Native)",score:5},{ability:"French",extra:" (Je me debrouillÃ©)",score:2},{ability:"Spanish",extra:" (Un Poco)",score:1}],instruments:[{ability:"Acoustic Guitar",score:5},{ability:"Harmonica",score:3},{ability:"Piano",score:2},{ability:"Vocals",score:0}]};Handlebars.registerHelper("createStars",function(a){for(var b="",c=Math.max(a,5),d=0;c>d;d++)b+='<i class="fa fa-star'+(a>d?" filled":"")+'"></i> ';return b}),Handlebars.registerHelper("capitalise",function(a){return a.charAt(0).toUpperCase()+a.slice(1)});var headerTemplate=Handlebars.compile($("#header-template").html()),abilityTemplate=Handlebars.compile($("#abilities-template").html());for(var ability in abilities)$("#abilities").append(headerTemplate({id:ability})),abilities[ability].forEach(function(a){$("#"+ability).next().append(abilityTemplate(a))});var background={education:[{title:"University of Bath",duration:"Sep 2009 - Apr 2013",subtitle:"First Class BSc Hons - Mathematics",description:"Completed a course in core and applied Mathematics including modules in Algebra, Group Theory, Number Theory, Mathematical Analysis, Mathematical Modeling, Ordinary and Partial Differential equations. Also took Advanced Programming principles and Advanced Computer Graphics modules.",location:"Claverton Down - Bath",mapRef:"University of Bath"},{title:"The Ecclesbourne School Sixth Form",duration:"Sep 2007 - Jul 2009",subtitle:"A,A,A,B at A Level and A at AS Level",description:"Attended Sixth Form where I achieved qualifications in Further Mathematics, Mathematics, Computing, Physics & Design Technology.",location:"Duffield - Derby",mapRef:"Ecclesbourne School Duffield"},{title:"The Ecclesbourne School",duration:"Sep 2001 - Jul 2007",subtitle:"7A*s, 2As & B at GCSE Level",description:"Attended secondary school where I achieved A*s in Mathematics, Science and English.",location:"Duffield - Derby",mapRef:"Ecclesbourne School Duffield"}],experience:[{title:"BBC Digital",duration:"Jul. 2013 - Present",subtitle:"Full Time - Tech Lead & Software Engineer",description:"The BBC is one of the most noticeable brand in the UK. They broadcast and deliver innovative content to audiences across all platforms and devices (Mobile, Web and IPTV). I work as part of the Digital Platform creating IPTV applications for BBC Sport, iPlayer and News.",location:"Media City UK - Manchester",mapRef:"MediaCityUK",link:"http://www.bbc.co.uk"},{title:"Delcam Plc.",duration:"Aug. 2011 - Sep. 2012",subtitle:"Full Time - Undergraduate Software Engineer",description:"The BBC is probably the most noticeable brand in the UK. They broadcast and deliver innovative content to audiences across all platforms and devices (Mobile, Web and IPTV). I worked as part of the Future Media team creating IPTV applications for Sport, iPlayer and News.",location:"Small Heath - Birmingham",mapRef:"Delcam Small Heath Birmingham",link:"http://www.delcam.co.uk"}]};Handlebars.registerHelper("mapRequest",function(a){var b="https://www.google.co.uk/maps/place/";return a=a.replace(/-./g,""),a=a.replace(/ +/g,"+"),b+a});var template=Handlebars.compile($("#experience-template").html());for(var thing in background)background[thing].forEach(function(a){$("#"+thing).next().append(template(a))});Handlebars.registerHelper("getPoints",function(a){var b="";return a.vertices.forEach(function(a){b+=a.x+","+a.y+" "}),b});var polygonTemplate,triangulation,width,height;polygonTemplate=Handlebars.compile(document.getElementById("polygon-template").innerHTML),width=1800,height=parseInt(svg.getBoundingClientRect().height),triangulation=new Triangulation(generateBoundingTriangle(width,height,500)),BowyerWatson(generatePoints(triangulation),triangulation),svg.addEventListener("mousedown",function(a){a.pageY>document.getElementById("svg-window").offsetTop&&(BowyerWatsonInsert(new Point(a.offsetX,a.offsetY),triangulation),$(svg).empty(),renderPolygons(triangulation))}),renderPolygons();var contacts=[{url:"domcharlesworth",icon:"fa fa-linkedin-square",href:"http://www.linkedin.com/in/domcharlesworth"},{url:"dgc336@gmail.com",icon:"fa fa-envelope-square",href:"mailto:dgc336@gmail.com"},{url:"dom_charlesworth",icon:"fa fa-skype",href:"javascript:void(0)"},{url:"domtronn",icon:"fa fa-github-square",href:"https://github.com/domtronn/"}],template=Handlebars.compile($("#contact-template").html());contacts.forEach(function(a,b){b%2?$("#contact .right").append(template(a)):$("#contact .left").append(template(a))});var projects=[{title:"Game of Life",description:"An implementation of Game of Life in HTML5 Canvas and JavaScript.",info:"Classic",imgSrc:"gameoflife.jpg",href:"gameoflife.html"},{title:"Stars",description:"An example of parallax movement with layers of Stars.",info:"Magic!",imgSrc:"stars.jpg",href:"stars.html"},{title:"Delauny Triangulation",description:"An experiment to look at ways to and perform triangulation of point clouds to produce a resultant Delauny Triangulation. ",info:"Beautiful",imgSrc:"delauny.jpg",href:"delauny.html"},{title:"LSystems & Euler Trees",description:"An experiment to look at ways to and perform triangulation of point clouds to produce a resultant Delauny Triangulation. ",info:"It's Trees",imgSrc:"lsystem.jpg",href:"lsystem.html"},{title:"BBC Sport TV Application",description:"",imgSrc:"sport.jpg"}],template=Handlebars.compile($("#project-template").html());projects.forEach(function(a){$("#project-list").append(template(a))});var result="",template=Handlebars.compile($("#nav-template").html());$(".section").each(function(){var a={href:this.getAttribute("id"),icon:this.getAttribute("data-icon"),title:this.getAttribute("data-title")};result+=template(a)}),$(".nav-menu ul").append(result),function(a){function b(){var a=Utils.getFirstSection();$("html, body").stop().animate({scrollTop:$(a).offset().top},500)}function c(){$(k).hasClass("visible")?e():d()}function d(){$(l).on("click",e),$(k).addClass("visible"),f(m,"fa-bars","fa-times")}function e(){$(l).on("click",d),$(k).removeClass("visible"),f(m,"fa-times","fa-bars")}function f(a,b,c){$(a).hasClass(b)&&$(a).fadeOut(250,function(){$(a).removeClass(b).addClass(c).fadeIn(250)})}var g=function(a){$(l).bind("click",b),h()},h=function(){$(".nav-menu a[href*=#]").on("click",function(a){a.preventDefault(),$("html, body").width()<1025&&e(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},400)})},i=function(){$(".section").get().reverse().some(function(a){return $(window).scrollTop()>=$(a).offset().top?($(".nav-menu li").each(function(){$(this).removeClass("highlight")}),$(".nav-menu a[href=#"+a.getAttribute("id")+"]").parent().addClass("highlight"),!0):!1})},j=function(){var a=$(window).scrollTop(),d=$(".nav-anchor").offset().top;d>a?(e(),$("#navigation").removeClass("stick"),$(l).unbind("click").bind("click",b),($(m).hasClass("fa-times")||$(m).hasClass("fa-bars"))&&$(m).fadeOut(250,function(){$(m).removeClass("fa-bars").removeClass("fa-times").addClass("fa-chevron-down").fadeIn(250)})):($("#navigation").addClass("stick"),$(l).unbind("click").bind("click",c),f(m,"fa-chevron-down","fa-bars"))},k=document.querySelector(".nav-menu"),l=document.querySelector(".nav-button"),m=document.querySelector(".nav-button i");l&&k&&g(),a.updatePositionalEvents=j,a.updateNavMenuHighlight=i}(window.Navigation=window.Navigation||{});var backgrounds={landing:"bg5.jpg",lower:"coffee.jpg"};!function(a){function b(){setTimeout(function(){$("#landing-panel .img").css("position","fixed")},500)}function c(a,b){$(a).css("background-image","url(images/"+b+")")}var d=function(){c(".landing.img",backgrounds.landing),e(),b()},e=function(){var a=$(window).height(),b=(a-$("#landing-panel .container").height())/2+"px";$("#landing-panel").height(a),$("#landing-panel .container").css("top",b),$("#landing-panel .img").height(a)};d(),a.resizeLandingPanel=e}(window.Layout=window.Layout||{});